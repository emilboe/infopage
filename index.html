<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>i</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-size: 120px;
            font-family: monospace;
            margin: 0;
            padding: 0;
            text-align: center;
        }
        #time {
            margin: 40px 0;
        }
        #date {
            font-size: 80px;
            margin: 40px 0;
        }
        #weather {
            font-size: 60px;
            margin: 40px 0;
        }
    </style>
</head>
<body>
    <div id="time"></div>
    <div id="date"></div>
    <div id="weather"></div>
    <script>
        // Configuration - Trondheim, Norway
        const LATITUDE = 63.4305; // Trondheim latitude
        const LONGITUDE = 10.3951; // Trondheim longitude
        
        function padZero(num) {
            return (num < 10 ? '0' : '') + num;
        }
        
        function updateDateTime() {
            const now = new Date();
            
            // Format time as HH:MM:SS with consistent width
            const hours = padZero(now.getHours());
            const minutes = padZero(now.getMinutes());
            const seconds = padZero(now.getSeconds());
            const timeString = hours + ':' + minutes + ':' + seconds;
            
            // Format date as DD.MM.YY with dots
            const day = padZero(now.getDate());
            const month = padZero(now.getMonth() + 1);
            const year = String(now.getFullYear()).slice(-2); // Last 2 digits of year
            const dateString = day + '.' + month + '.' + year;
            
            document.getElementById('time').textContent = timeString;
            document.getElementById('date').textContent = dateString;
        }
        
        function fetchWeather() {
            fetch(
                'https://api.open-meteo.com/v1/forecast?latitude=' + LATITUDE + '&longitude=' + LONGITUDE + '&current=temperature_2m,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto'
            )
            .then(function(response) {
                return response.json();
            })
            .then(function(data) {
                if (data.current) {
                    const temp = Math.round(data.current.temperature_2m);
                    const weatherCode = data.current.weather_code;
                    
                    // Convert weather code to description
                    const weatherDescriptions = {
                        0: 'Clear', 1: 'Mostly clear', 2: 'Partly cloudy', 3: 'Overcast',
                        45: 'Foggy', 48: 'Foggy', 51: 'Light drizzle', 53: 'Drizzle', 55: 'Heavy drizzle',
                        56: 'Freezing drizzle', 57: 'Freezing drizzle', 61: 'Light rain', 63: 'Rain', 65: 'Heavy rain',
                        66: 'Freezing rain', 67: 'Freezing rain', 71: 'Light snow', 73: 'Snow', 75: 'Heavy snow',
                        77: 'Snow grains', 80: 'Light showers', 81: 'Showers', 82: 'Heavy showers',
                        85: 'Snow showers', 86: 'Snow showers', 95: 'Thunderstorm', 96: 'Thunderstorm', 99: 'Thunderstorm'
                    };
                    
                    const description = weatherDescriptions[weatherCode] || 'Unknown';
                    document.getElementById('weather').textContent = temp + 'Â°C - ' + description;
                }
            })
            .catch(function(error) {
                document.getElementById('weather').textContent = 'Weather unavailable';
            });
        }
        
        // Initialize
        updateDateTime();
        setInterval(updateDateTime, 1000);
        fetchWeather();
        // Update weather every 30 minutes
        setInterval(fetchWeather, 30 * 60 * 1000);
    </script>
</body>
</html>